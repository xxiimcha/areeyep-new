@model Dictionary<string, IEnumerable<AreEyeP.Models.Notification>>

@{
    ViewData["Title"] = "Notifications";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>

    <!-- Include the CSS Links Partial -->
    @Html.Partial("_CSSLinks")
    <style>
        .notification-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f9f9f9;
        }

            .notification-card h5 {
                margin: 0;
                font-weight: bold;
            }

            .notification-card p {
                margin: 5px 0 0;
            }

            .notification-card .date {
                font-size: 0.9em;
                color: #888;
            }
    </style>
</head>
<body class="sb-nav-fixed">
    <!-- Render the Header Partial -->
    @Html.Partial("_Header")

    <div id="layoutSidenav">
        <!-- Render the Sidebar Partial -->
        @Html.Partial("_Sidebar")

        <div id="layoutSidenav_content">
            <main>
                <div class="container-fluid px-4">
                    <h2 class="text-center mt-4 mb-4">Notifications</h2>

                    <!-- Nav Tabs -->
                    <ul class="nav nav-tabs" id="notificationTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="application-tab" data-bs-toggle="tab" href="#application" role="tab" aria-controls="application" aria-selected="true">Application</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="service-requests-tab" data-bs-toggle="tab" href="#service-requests" role="tab" aria-controls="service-requests" aria-selected="false">Service Requests</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="payments-tab" data-bs-toggle="tab" href="#payments" role="tab" aria-controls="payments" aria-selected="false">Payments</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="renewals-tab" data-bs-toggle="tab" href="#renewals" role="tab" aria-controls="renewals" aria-selected="false">Renewals</a>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content" id="notificationTabContent">
                        <!-- Application Tab -->
                        <div class="tab-pane fade show active" id="application" role="tabpanel" aria-labelledby="application-tab">
                            @if (Model.ContainsKey("Application") && Model["Application"].Any())
                            {
                                foreach (var notification in Model["Application"])
                                {
                                    <div class="notification-card mt-3">
                                        <h5>@notification.Type</h5>
                                        <p>@notification.Message</p>
                                        <p class="date">Posted on: @notification.CreatedAt.ToString("MMMM dd, yyyy")</p>
                                    </div>
                                }
                            }
                            else
                            {
                                <p class="text-center mt-3">No application notifications found.</p>
                            }
                        </div>

                        <!-- Service Requests Tab -->
                        <div class="tab-pane fade" id="service-requests" role="tabpanel" aria-labelledby="service-requests-tab">
                            @if (Model.ContainsKey("ServiceRequests") && Model["ServiceRequests"].Any())
                            {
                                foreach (var notification in Model["ServiceRequests"])
                                {
                                    <div class="notification-card mt-3">
                                        <h5>@notification.Type</h5>
                                        <p>@notification.Message</p>
                                        <p class="date">Posted on: @notification.CreatedAt.ToString("MMMM dd, yyyy")</p>
                                    </div>
                                }
                            }
                            else
                            {
                                <p class="text-center mt-3">No service request notifications found.</p>
                            }
                        </div>

                        <!-- Payments Tab -->
                        <div class="tab-pane fade" id="payments" role="tabpanel" aria-labelledby="payments-tab">
                            @if (Model.ContainsKey("Payments") && Model["Payments"].Any())
                            {
                                foreach (var notification in Model["Payments"])
                                {
                                    <div class="notification-card mt-3">
                                        <h5>@notification.Type</h5>
                                        <p>@notification.Message</p>
                                        <p class="date">Posted on: @notification.CreatedAt.ToString("MMMM dd, yyyy")</p>
                                    </div>
                                }
                            }
                            else
                            {
                                <p class="text-center mt-3">No payment notifications found.</p>
                            }
                        </div>

                        <!-- Renewals Tab -->
                        <div class="tab-pane fade" id="renewals" role="tabpanel" aria-labelledby="renewals-tab">
                            @if (Model.ContainsKey("Renewals") && Model["Renewals"].Any())
                            {
                                foreach (var notification in Model["Renewals"])
                                {
                                    <div class="notification-card mt-3">
                                        <h5>@notification.Type</h5>
                                        <p>@notification.Message</p>
                                        <p class="date">Posted on: @notification.CreatedAt.ToString("MMMM dd, yyyy")</p>
                                    </div>
                                }
                            }
                            else
                            {
                                <p class="text-center mt-3">No renewal notifications found.</p>
                            }
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Include the Script Links Partial -->
    @Html.Partial("_ScriptLinks")
</body>
</html>
